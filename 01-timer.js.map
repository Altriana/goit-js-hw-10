{"version":3,"file":"01-timer.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst btnStart = document.querySelector(\"[data-start]\");\nconst spanDays = document.querySelector(\"[data-days]\");\nconst spanHours = document.querySelector(\"[data-hours]\");\nconst spanMinutes = document.querySelector(\"[data-minutes]\");\nconst spanSeconds = document.querySelector(\"[data-seconds]\");\n\n\nbtnStart.disabled = true;\nlet userSelectedDate = null;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0];\n        if (selectedDate < new Date()) {\n            iziToast.warning({\n                position: 'topRight',\n                backgroundColor: 'red',\n                messageColor: '#fff',\n                iconColor: '#fff',\n                message: 'Please choose a date in the future',\n            });\n            btnStart.disabled = true;\n        } else {\n            btnStart.disabled = false;\n            userSelectedDate = selectedDate;\n        };\n    },\n};\n\nflatpickr(input, options);  \n\n\nfunction addingZero(value) {\n    return String(value).padStart(2, '0');\n}\n\nfunction updateTime({ days, hours, minutes, seconds }) {\n    spanDays.textContent = addingZero(days);\n    spanHours.textContent = addingZero(hours);\n    spanMinutes.textContent = addingZero(minutes);\n    spanSeconds.textContent = addingZero(seconds);\n}\n\n\nbtnStart.addEventListener('click', () => {\n    let remainingTime;\n    const stopwatch = setInterval(() => {\n        const currentTime = new Date();\n        remainingTime = userSelectedDate - currentTime;\n        \n        if (remainingTime <= 0) {\n            clearInterval(stopwatch);\n            iziToast.success({\n                position: 'topRight',\n                backgroundColor: '#59A10D',\n                messageColor: 'white',\n                message: 'Countdown finished!',\n            });\n            return;\n        };\n        const time = convertMs(remainingTime);\n        updateTime(time);\n    },1_000)\n});\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}"],"names":["input","btnStart","spanDays","spanHours","spanMinutes","spanSeconds","userSelectedDate","options","selectedDates","selectedDate","iziToast","flatpickr","addingZero","value","updateTime","days","hours","minutes","seconds","remainingTime","stopwatch","time","convertMs","ms"],"mappings":"+IAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAG3DJ,EAAS,SAAW,GACpB,IAAIK,EAAmB,KAEvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,EAAe,IAAI,MACnBC,EAAS,QAAQ,CACb,SAAU,WACV,gBAAiB,MACjB,aAAc,OACd,UAAW,OACX,QAAS,oCACzB,CAAa,EACDT,EAAS,SAAW,KAEpBA,EAAS,SAAW,GACpBK,EAAmBG,EAE1B,CACL,EAEAE,EAAUX,EAAOO,CAAO,EAGxB,SAASK,EAAWC,EAAO,CACvB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASC,EAAW,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACnDhB,EAAS,YAAcU,EAAWG,CAAI,EACtCZ,EAAU,YAAcS,EAAWI,CAAK,EACxCZ,EAAY,YAAcQ,EAAWK,CAAO,EAC5CZ,EAAY,YAAcO,EAAWM,CAAO,CAChD,CAGAjB,EAAS,iBAAiB,QAAS,IAAM,CACrC,IAAIkB,EACJ,MAAMC,EAAY,YAAY,IAAM,CAIhC,GAFAD,EAAgBb,EADI,IAAI,KAGpBa,GAAiB,EAAG,CACpB,cAAcC,CAAS,EACvBV,EAAS,QAAQ,CACb,SAAU,WACV,gBAAiB,UACjB,aAAc,QACd,QAAS,qBACzB,CAAa,EACD,MAEZ,CAAQ,MAAMW,EAAOC,EAAUH,CAAa,EACpCL,EAAWO,CAAI,CAClB,EAAC,GAAK,CACX,CAAC,EAGD,SAASC,EAAUC,EAAI,CAQrB,MAAMR,EAAO,KAAK,MAAMQ,EAAK,KAAG,EAE1BP,EAAQ,KAAK,MAAOO,EAAK,MAAO,IAAI,EAEpCN,EAAU,KAAK,MAAQM,EAAK,MAAO,KAAQ,GAAM,EAEjDL,EAAU,KAAK,MAASK,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAR,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}